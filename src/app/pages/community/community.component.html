<section class="community-homepage">
  <mat-card>
    <mat-card-header>
      <mat-card-title class="title">Benvenuti nella Community di Tutoring</mat-card-title>
    </mat-card-header>
    <mat-card-content>
      <p class="intro-text">Unisciti a noi per condividere e apprendere sul web development, machine learning e data science.</p>
    </mat-card-content>
  </mat-card>
</section>



<section class="discussion-forum">
  <mat-expansion-panel *ngFor="let topic of discussionTopics">
    <mat-expansion-panel-header>
      <mat-panel-title>
        <h2 class="section-title">{{ topic.title }}</h2>
      </mat-panel-title>
    </mat-expansion-panel-header>
    <div class="panel-content">{{ topic.content }}</div>
  </mat-expansion-panel>
</section>

<section class="announcement-board">
  <mat-accordion>
    <mat-expansion-panel *ngFor="let announcement of announcements">
      <mat-expansion-panel-header>
        <mat-panel-title>
          <h2 class="section-title">{{ announcement.title }}</h2>
        </mat-panel-title>
      </mat-expansion-panel-header>
      <div class="panel-content">{{ announcement.content }}</div>
    </mat-expansion-panel>
  </mat-accordion>
</section>

<section class="upcoming-events">
  <div class="events-container">
    <mat-card *ngFor="let event of upcomingEvents">
      <mat-card-header>
        <mat-card-title>{{ event.name }}</mat-card-title>
        <mat-card-subtitle>{{ event.date | date }}</mat-card-subtitle>
      </mat-card-header>
      <mat-card-content>
        <p>{{ event.description }}</p>
      </mat-card-content>
      <mat-card-actions>
        <button mat-raised-button color="primary" (click)="registerForEvent(event)">Iscriviti</button>
      </mat-card-actions>
    </mat-card>
  </div>
</section>

<section class="faq-section">
  <mat-accordion>
    <mat-expansion-panel *ngFor="let faq of faqs">
      <mat-expansion-panel-header>
        <mat-panel-title>
          <h2 class="section-title">{{ faq.question }}</h2>
        </mat-panel-title>
      </mat-expansion-panel-header>
      <div class="panel-content">{{ faq.answer }}</div>
    </mat-expansion-panel>
  </mat-accordion>
</section>

<section class="user-reviews">
  <div *ngFor="let review of userReviews" class="review">
    <mat-card>
      <mat-card-header>
        <mat-card-title>{{ review.user }}</mat-card-title>
      </mat-card-header>
      <mat-card-content>
        <p>{{ review.comment }}</p>
        <div class="rating">
          <mat-icon *ngFor="let star of [].constructor(5)" [color]="star < review.rating ? 'warn' : 'default'">star</mat-icon>
        </div>
      </mat-card-content>
    </mat-card>
  </div>

  <!-- Form per aggiungere una nuova recensione -->
  <div class="new-review-form">
    <mat-form-field appearance="fill">
      <mat-label>Nickname</mat-label>
      <input matInput [(ngModel)]="newReview.user">
    </mat-form-field>

    <mat-form-field appearance="fill">
      <mat-label>Recensione</mat-label>
      <textarea matInput [(ngModel)]="newReview.comment"></textarea>
    </mat-form-field>

    <mat-form-field appearance="fill">
      <mat-label>Valutazione</mat-label>
      <mat-select [(ngModel)]="newReview.rating">
        <mat-option *ngFor="let r of [1, 2, 3, 4, 5]" [value]="r">{{ r }}</mat-option>
      </mat-select>
    </mat-form-field>

    <button mat-raised-button color="primary" (click)="addReview()">Aggiungi Recensione</button>
  </div>
</section>
